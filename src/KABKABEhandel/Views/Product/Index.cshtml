@{
    ViewData["Title"] = "Product Page";
}

@model KABKABEhandel.ViewModels.ListProductViewModel[]

<script>
    //javascript class
    function Product (id, quantity) {
        this.id = id;        
        this.quantity = quantity
    }

    //anropas när vi klickar på add
    function addToCart(id){   
        var quantity = $("#quantity" + id).text();
        var product = new Product(id, quantity);                
        
        
        alert("Added to your cart id: " + product.id + " Quantity: " + product.quantity);
        //ajax anrop till vad?
        //$.post("/Customers/GetCustomer", { "id": product.id, "quantity": product.quantity});


    }

    //när vi klickar på produkt text visas modal
    function viewProductInfo(id){    
        var myData = id;
        $('#pInfo').val(myData);          
        $('#myModal').modal('show'); 
        
    }
</script>

<form>
    <div class="row">
        <div class="col-md-3">

            @foreach (var item in Model)
            {
                 <div class="item">
                        <img src="@item.ID" class="img-responsive" />
                    </div>
                    <h2>@item.Name</h2>
                    <h2 style="cursor:pointer" onclick="viewProductInfo(@item.ID)">Product Details</h2>
                    <h2>@item.ID</h2>
                    <h2>@item.Price :-</h2>
                    <div class="form-group">
                        <label for="sel1">Select list:</label>
                        <select class="form-control" id="quantity\'@item.ID\''">
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5</option>
                            <option>6</option>
                            <option>7</option>
                            <option>8</option>
                            <option>9</option>
                            <option>10</option>
                        </select>
                    </div>

                    <button type="button" id="buyBtn" onclick="addToCart(@item.ID)">Add to cart</button>                   


            }



        </div>
    </div>
</form>

<div class="container">
    

    <!-- Modal -->
    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title"></h4>
                </div>
                <div class="modal-body">                    
                    <input type="text" name="pInfo" id="pInfo" value="" />
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>

        </div>
    </div>

</div>







@*<form>
        <div class="row">
            <div class="col-md-3">

                <img src="~/images/penna.jpg" class="img-responsive" />
                <p>Name</p>
                <p>Description</p>
                <p>Price</p>
                <button type="button" id="buyBtn">Add to cart</button>

            </div>
        </div>

    </form>*@
